{"version":3,"sources":["uni-app:///main.js","webpack:////Users/otvo/Documents/实践项目/前端/pages/Vip/Vip.vue?72e0","webpack:////Users/otvo/Documents/实践项目/前端/pages/Vip/Vip.vue?8b09","webpack:////Users/otvo/Documents/实践项目/前端/pages/Vip/Vip.vue?e653","webpack:////Users/otvo/Documents/实践项目/前端/pages/Vip/Vip.vue?0267","uni-app:///pages/Vip/Vip.vue","webpack:////Users/otvo/Documents/实践项目/前端/pages/Vip/Vip.vue?91e3","webpack:////Users/otvo/Documents/实践项目/前端/pages/Vip/Vip.vue?d40a"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,uF,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,YAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgH;AAChH;AACuD;AACL;AACa;;;AAG/D;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,8EAAM;AACR,EAAE,uFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAi0B,CAAgB,iyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0Cr1B;AACA,MADA,kBACA;AACA;AACA,sCADA,EACA;AACA,wCAFA,EAEA;AACA,sDAHA;AAIA,oDAJA;AAKA,gEALA;AAMA,mBANA;AAOA,mBAPA;;;AAUA,GAZA;AAaA,QAbA,oBAaA;AACA;AACA;AACA,wDADA;AAEA;AACA,0DADA,EAFA;;AAKA,aALA,mBAKA,GALA,EAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAhBA;AAiBA;AACA;AACA,OAnBA;;AAqBA,GApCA;AAqCA,QArCA,oBAqCA;AACA;AACA;AACA;AACA;AACA;AACA,aADA,mBACA,CADA,EACA;AACA;AACA;AACA,OAJA;;;AAOA,GAjDA;AAkDA;AACA,WADA,mBACA,IADA,EACA;AACA;AACA;;AAEA;AACA,uDADA;AAEA;AACA,yBADA;AAEA,4CAFA;AAGA,qCAHA,EAFA;;AAOA;AACA;AACA;AACA;AACA,8BADA;AAEA,+BAFA,EAEA;AACA;AACA;AACA;AACA,8DADA;AAEA;AACA,oEADA;AAEA,oCAFA;AAGA,oCAHA,EAFA;;AAOA,uBAPA,qBAOA;AACA;AACA,4BADA;;AAGA;AACA,mCADA;AAEA,kCAFA;;AAIA,iBAfA;AAgBA;AACA;AACA,iBAlBA;;AAoBA,aAzBA;AA0BA;AACA;AACA,aA5BA;;AA8BA,SAxCA;AAyCA;AACA;AACA,SA3CA;;;;AA+CA,KApDA,EAlDA,E;;;;;;;;;;;;;AC1CA;AAAA;AAAA;AAAA;AAA8qC,CAAgB,8lCAAG,EAAC,C;;;;;;;;;;;ACAlsC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/Vip/Vip.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/Vip/Vip.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./Vip.vue?vue&type=template&id=cc2e3dfc&\"\nvar renderjs\nimport script from \"./Vip.vue?vue&type=script&lang=js&\"\nexport * from \"./Vip.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Vip.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/Vip/Vip.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Vip.vue?vue&type=template&id=cc2e3dfc&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Vip.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Vip.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<image class=\"background\" :src=\"BGURL\" mode=\"aspectFill\"></image>\r\n\t\t<view :style=\"windowTop\"></view>\r\n\r\n\t\t<view class=\"userinfo\">\r\n\t\t\t<view class=\"userInfoContainer\">\r\n\t\t\t\t<image class=\"userinfo-avatar\" :src=\"avatar\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"userinfo-name\">\r\n\t\t\t\t<text class=\"name\">{{name}}</text>\r\n\t\t\t\t<text class=\"vipEndTime\" v-if=\"isVip&!isForever\">会员将于 <text\r\n\t\t\t\t\t\tstyle=\"color: rgb(253,123,19); font-weight: bold;\">{{vipEndTime}}</text>到期</text>\r\n\t\t\t\t<text class=\"vipEndTime\" v-if=\"!isVip\">暂未开通会员</text>\r\n\t\t\t\t<text class=\"vipEndTime\" v-if=\"isForever\"\r\n\t\t\t\t\t\tstyle=\"color: rgb(253,123,19); font-weight: bold;\">终身会员</text></text>\r\n\t\t\t</view>\r\n\r\n\t\t</view>\r\n\r\n\t\t<view v-if=\"!isForever\">\n\t\t\t<view class=\"ctxCard\">\n\t\t\t\t<view class=\"title\">\n\t\t\t\t\t<text>开通/续费</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"vipbut\">\n\t\t\t\t<button class=\"button\" @click=\"openVip(['9.9','单月会员','31'])\"><text class=\"button-text\">单月会员</text></button>\n\t\t\t\t<button class=\"button\" @click=\"openVip(['99','年费会员','365'])\"><text class=\"button-text\">年费会员</text></button>\n\t\t\t\t<button class=\"button\" @click=\"openVip(['299','终身会员','430700'])\"><text class=\"button-text\">终身会员</text></button>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view class=\"ctxCard\">\n\t\t\t<view class=\"title\">\n\t\t\t\t<text>开通记录</text>\n\t\t\t</view>\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tBGURL: getApp().globalData.BGURL, //背景图片\r\n\t\t\t\tavatar: getApp().globalData.avatar, //用户头像\r\n\t\t\t\tisVip: getApp().globalData.userInformation.isVip,\r\n\t\t\t\tname: getApp().globalData.userInformation.name,\r\n\t\t\t\tvipEndTime: getApp().globalData.userInformation.vipEndTime,\r\n\t\t\t\twindowTop: \"\",\r\n\t\t\t\torderInfo: \"\",\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\n\t\t\tvar that=this;\r\n\t\t\tuni.request({\r\n\t\t\t\turl: getApp().globalData.URL + \"/user/getVipState\",\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tuserID: getApp().globalData.userInformation.userID\r\n\t\t\t\t},\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tvar date = new Date(res.data.vipEndTime)\r\n\t\t\t\t\tvar YY = date.getFullYear() + '-';\r\n\t\t\t\t\tvar MM = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-';\r\n\t\t\t\t\tvar DD = (date.getDate() < 10 ? '0' + (date.getDate()) : date.getDate());\r\n\t\t\t\t\tthat.vipEndTime = YY + MM + DD;\n\t\t\t\t\tif(date.getFullYear()>2100){\n\t\t\t\t\t\tthat.isForever=true\n\t\t\t\t\t}\n\t\t\t\t\tthat.isVip=res.data.isVip\r\n\t\t\t\t},\r\n\t\t\t\tfail: function(err) {\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\t// 支付宝沙箱环境\r\n\t\t\tvar EnvUtils = plus.android.importClass(\"com.alipay.sdk.app.EnvUtils\");\r\n\t\t\tEnvUtils.setEnv(EnvUtils.EnvEnum.SANDBOX);\r\n\t\t\tvar that = this\r\n\t\t\tuni.getSystemInfo({\r\n\t\t\t\tsuccess(e) {\r\n\t\t\t\t\tthat.windowTop = \"height:\" + e.windowTop + \"px\";\r\n\t\t\t\t\tthat.windowHeight = \"height:\" + (e.windowHeight) + \"px\";\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\topenVip(type) {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tvar date = new Date();\r\n\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: getApp().globalData.URL + '/alipay/alipay',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tamount: type[0],\r\n\t\t\t\t\t\ttradeNo: date.getTime().toString(),\r\n\t\t\t\t\t\tcontext: \"全民单词——\" + type[1]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t// console.log(res)\r\n\t\t\t\t\t\t// that.orderInfo = res.data\r\n\t\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\t\tprovider: 'alipay',\r\n\t\t\t\t\t\t\torderInfo: res.data, //微信、支付宝订单数据 【注意微信的订单信息，键值应该全部是小写，不能采用驼峰命名】\r\n\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\tconsole.log('success:' + JSON.stringify(res));\r\n\t\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\t\turl: getApp().globalData.URL + '/user/openVip',\r\n\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\tuserID: getApp().globalData.userInformation.userID,\r\n\t\t\t\t\t\t\t\t\t\tvipStartTime: date,\r\n\t\t\t\t\t\t\t\t\t\tvipLength: type[2]\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\t\t\t\t\tdelta: 1\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: '会员开通成功',\r\n\t\t\t\t\t\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log('fail:' + JSON.stringify(err));\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\t\t\tconsole.log('fail:' + JSON.stringify(err));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\tconsole.log('fail:' + JSON.stringify(err));\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.userinfo {\r\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\ttext-align: justify;\r\n\r\n\t\twidth: 94%;\r\n\t\tmargin-left: 3%;\r\n\t\tborder-radius: 15rpx;\r\n\t\tpadding-top: 10rpx;\r\n\t\tpadding-bottom: 10rpx;\r\n\t\tbackground-color: white;\r\n\t}\r\n\r\n\t.userInfoContainer {\r\n\t\tposition: relative;\r\n\t\tleft: 5%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: flex-end;\r\n\t}\r\n\r\n\t.userinfo-avatar {\r\n\t\tborder: 2px solid rgba(195, 199, 199, 0.7);\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t\twidth: 108rpx;\r\n\t\theight: 108rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground-color: white;\r\n\t\tleft: 5%;\r\n\r\n\t}\r\n\r\n\t.userinfo-name {\r\n\t\tposition: relative;\r\n\t\tmargin-left: 10%;\r\n\t\tmargin-top: 3%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.vipEndTime {\r\n\t\tfont-size: small;\r\n\t}\r\n\r\n\t.vipbut {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t}\r\n\r\n\t.button {\r\n\t\tfont-size: medium;\r\n\t}\r\n\r\n\t.ctxCard {\r\n\t\tposition: relative;\r\n\t\twidth: 94%;\r\n\t\tmargin-left: 3%;\r\n\r\n\t}\r\n\r\n\t.title {\r\n\t\tposition: relative;\r\n\t\tmargin-top: 4%;\r\n\t\tmargin-bottom: 1%;\r\n\t\tcolor: white;\r\n\t\tfont-weight: bold;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Vip.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Vip.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1666160262343\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}